package ccfg

import (
	"strings"
	"testing"

	"github.com/Gophercraft/log"
)

const sample = `# CDN Configuration

archives = 0105f03cb8b8faceda8ea099c2f2f476 010a96185152efc58043adfa4e4c7c16 04aa0ccce0376d4287a8fcfad3957d5a 04d261edc722e4796eb82f127477415b 0507f6d7790a10c39a083ad9168c98ca 05185591db18bfa55a85e27d87663acd 05522f0a05b0ba5c00f9edcca222a6e9 066560d34b5338e1703b45f9db4ab9cb 06a3ff29d1084a33b32a92c2fb865fce 06a589d814386f7870ce7c8b009e7a05 0748acef86f67673d3de20a7f9ae4d74 07b42c6f864061e450a63c3f75ca3392 089d2b83820ce140f406d81e725f2d4c 098213fd96c6bc10ac7a58a58ca8ae67 0ab6ee8fc9f4777301dc3d3e51fca983 0b5c5966d07db9b2472e82346475a0fe 0b7fde0f804305a3d564d33317025766 0bb172b5b5c967777631c866925c5beb 0df9d952ec5729f52bf46ba60a8ecb3a 0e01942e1f56709427e495de1680bbbe 0ec0de32a1c715b4a300bb40f3dedc0c 0eeae452d2627d392e18da08d07ab788 0f1fa118b611e03654968e2c5ed62494 0fcf4caa06fea43d665a4d5f018e75d4 10fa8cbbdf5a519654b72c21a6fc09d8 1229051f57931abde38889a5035ef8ae 129a4469701da7afba6f43d53454e158 12c7e267c5bc4c2d81b65971c98282e5 131fd746f3b9ccc51542671efd1372c7 134e0fd82ed463c598f51d82d55dd972 13d727e5ba4593012f6187721fdcf289 1423bea2298e2e55c50ff8ff9c40e3ab 1532d9609ed7e13151db03665c55e04e 15857509ce441d6266e04cbf263aa0e4 15df93a8b8385f501258d15aab1966ce 16eb7656ee524730a05799bbd4598021 17d4c09e3b2ed54ef0483cd9ecb034bc 180ad1fc073edc9b9b4a7c3fe36b1a1a 18b9722ac9252b94b83d216719b61e1e 18ef62a9f72db26ce4d45a465034f133 1aa65585e9f809a69b33b773925955a1 1b0fd2db8e79543e6586aedf2f699901 1b9a7d0311dfa0a4b21db2568db90d81 1ba70c085d85eead0ba96ffc26a4c6f9 1c87397df8a1767222950124e8957592 1d875bc04f3c02f9ba94eb0a8c42aa0f 1d947ee6f8254af8b551c93fd550ab29 1dbf945575620b002600367f9e4713aa 1eea82ffbf8d9808312485f7b395dcf4 1f854e698e2ac32c2826ec5f744277ac 1fa16fd2bb95a16ce935f52b84123239 1fb7d0b71423df7df3f9f59ec695ebad 20aa90ed8a5c08632391556d8ac06f31 20bba2e34b2e7acbd2c80d3f0928e9d0 20e1e917a306d6ba922289e6bdf804ea 20fae0fc2b9a0a97bfc9d1f3d3e72c13 2141ca5fceda116ea8acf6e47a5a2e16 2177b7d599162d78e837fe943288d9a3 21b90adda05f00669b4321576fc412d6 228d392020235938160dad826dd2c293 22f6d75d601c97b040c8ba1439c6380b 234bc6395465b3a67ee8a9ee6b88afae 23b1ab3a5d6bb8c87b5a6979e8b03147 2457196c1ab81a9bdb96146b1229f527 24655413bed81c74b03f638e05a6fd26 2599238ad1b35850c38b5a91b1091b1e 25aba6a1d66dc67618984706bf2100ca 25e8970d1bbeea6a39005f4714611fe9 262918a9a8e1fc2f59cfe1f7c2f4df1f 2742321804f54e2094fb3443f3c0821f 2825000510ac21e4e3f0a2d1fa9cf62f 2866760c5249e8f4af45fd52d011b0cd 2933a1ac9eb7d001d0657091b8dc8d7a 29a09bd93a2eaf5c3db4075caecac1c1 2a45d932a2e235749097010b83dc320c 2a9255d63582d1e0daec34c7d6219116 2b7a05988674c593aee4b9b63f53466e 2c33c3202a97ac2d75288a29df98a5c6 2c981ddf309f0512f3920aea4de3a980 2d1cb76ba68fa7eb2a5c8335d65d7515 2d9463d332eb2a97d07d9db831a66743 2de441a336ae0c3dadb90139b59e1a62 2e1e255d9598bf622d7d1a498e65465f 2e8a8133d665a3f81aaec96656f50792 2e9ae3f40380d6a343b498adc9760da0 2eac7c8f7fbf69ceb5ab0c2a1f4b6fa3 2f6a6408392a831d30d3acabd915a990 30c3e4ae11cb75a654495703a60a21fe 30ceab0962df14c86bbaea5bd9d688bb 312c96106937fe0c1c14d3e7970094b0 3159fbdf427ab0aa82771c7a9a164074 3257bb77eeff7283097ac4be061a6d02 3374a67da5eb059fad65d3f00f366327 33ad165b5909ea90141eafdfc2590dbc 34286405fbee14e947ce61bf502e31d4 3448e41e21d3724195efe6ef688e81d6 34c952ce7a5cddae7943e19192302a0e 34d134937ec5137daab1ac73411036d2 355481344602325fabb0d39bb0258c20 357a08383234b56bae022566f526a34c 36074c58da2768a57a40ab887804855b 367e9b1a2aa557d9ad2813ea8e06283e 3699f9894c36bc07d965271e68ab71a6 36d20cc1f773892df231a1721a2780d1 36fc854b615f6d77eafb5926bb0c6b18 3790628696671771c15f3f0a43088b1d 38da6bb466e503fda78c64035c6fc7a1 3965640a59d49a838ec2e88c25eb0368 3984cc07f32e23fb40708a8383852a6c 3a9fe51c3c66d8ac9a7878fe75bc8dd5 3b09e234e34a0e916f5314fff8765356 3b8adb7bf192ae50dc64319c161d9e89 3c88fc62d6424020fe6f83b0cd10331d 3c8c32bee6270f9bd97a21fc13e14c2b 3cfb43263c79b68fa0f16bf0bf8647f1 3de5488f13b37c5c4ce142e24deb74f1 3f0d2c48b5634cb6497795f722fdfa15 3f2c847ea93e2d2f4fe1972fba232151 3f65d60f391a53e51a93ac06392ce918 3f6c6e78267fe72ae8e097d35e70a516 3f9d1d473710ed4aa4df7899065b1622 401b14b2bd02842e80b7c467e28b15ed 40684390a09785c5a66c3a93cf145b8d 40e67f2507d42c99a194f8d24fd75a5d 412d1098c34ca93d6c30bc2daa182047 41d0518b87468acb21089cc84d6bd9fc 41d779db6ae3c9bdf80d20d3b2f0c7d9 422e9b7f3862ccd6f8d12e0ee281592a 424430a6978402a1b494f3576cd01f54 4322e16955141addbc67b9df15ecadf9 4339ad1030b1cf97e6e18262ccdf056b 43f12564d58a9b2ad22c09e5a9baf9b6 44280eb7502c8fe65dfddd6f3ea4c76f 44405557b801dc962b854f60c9186fcd 44eae9c21b7f7221646c0e74261ef9a0 450d31f6423d9551cd2daf6322d83a56 45667eef39c3a75c79a9ec7b9fa44498 464b5d3cf0fbb10f6f3e728c879b6875 46eaf064e003b97acdf10e7d3a50303f 46eb1d2e8c8469628b83fd6c15c53b92 471ab48a0de3f7ae37c8cdb3d83b1032 48c2e3e35d0d504f0c5a184b15b8bf27 48c406f9c50217111d895b1c1d9ca820 4977f8c6a5abd58c7b0f2a8d0a36bc67 49ae9e20033565b096a3bc4604bea9cb 4b0ddbd1c6fa03fe8ef94238957fa5d1 4b34f70c0484a30a20df740427add4eb 4c071d96e07c28d603f05aba944781db 4c2d33be724eac8336368f6a04dd43e4 4c67f1b4125b649079b809d6c83cac73 4c8f6028275a824a81d796f5eae0054a 4d134f9b7c06f7f548512ab898eef85f 4defc1c1c474f5fee09ca7fd580334a6 4f2677c3582df9b0ea0dfb5db2bd4ec0 4fb2efa626d32346f32d7fc8323d1463 4fc2a0da45fdd75fcbaa29c495476037 50f344ea14fc40917de525da262f48e1 51e151114b03f9c2d58fc10b94257b57 520c61f5e85e20be471d365ab6bb4151 521add489d9ebe3932f5a4d484427492 5231c3baf558f5432d59f5462a2bef37 52ab01d2bb07116d8d7e747a0d2e1010 530eb99c129cf8642b02f2e7b673fdff 532155425caeeae41b286b3e2a48b08a 534721b0b4a040c3cb338e62726e5f2e 54ff1d1af1615f45209476224b64b96a 552747f014e6aee70f92833f5ebedcb2 55472360bc91f1ebfe8dfb75bfb39e22 563cdd77ab2f7579775b0394cc9521ae 568c01657d5d6a5448eb74e198c12ec4 56b758608ca192fc18b95734b86437c4 56eccc78eb2fddbd2e5c8ef8c741c4a9 5794b0453d6a92824695d862abb25a31 57afbed2a2eebcbea8f072995b352d24 5827d805ee71e5b7116a454a9f210808 58cb581c2bd842c19466e9f32d4beb97 5955972b860319bfa9ce736b34047ba3 596c5e4be5124962aad7ea32cfdc280e 59a9e2cf22b4554559880e843026daf3 5a58c549e9f6d8379ab69846724f208c 5b5e32951bded7e54260f5ae4c1cf2af 5ba7fcae2ae81610a65d62adc75164d0 5cc6db06a012172bc0a8f62f4ba653db 5d52e27b0715a8e29a642873a92a851b 5d53598ee67e85e826a69e7c6e6a8152 5d8e14c49ecda4d8dd28aa7fc19e78fd 5d96922ed6cc938d9467e429978c8972 5e9d2d33bef01f4f23e97530bfe45aa4 5f2be722d50a0746079e37911a0bd797 600a7b38ca1896126d012fd32f21f5f0 60f894037c61a6082d3cb835d5268b69 613d8df1697bd4c7698c6d87d8d7fa96 6586d3dfd779b894a18f5e06ac44c432 65df0bb2887ffd3d9bfd45765f35801c 66e738d3a29446922ad04b36f0cbcb0e 66ff03f32914d74c0b154dc71d24eab2 6741a37f8946a81a0811ec671783fb29 67e7c9a919f0713759254f98876ad110 682938601229808ca8cf58edd9672a6b 6bdc6b3f5688adf71dc6c2658888ea2e 6e1b5fe99435b1335530f4c86bd0039a 6ef451c6d18dce136bfc898ee58a92fa 6f3f2efcff6743f71dbcd025e31c0421 6f5b0aeb55b1182ad218d951480420c6 6f868077af6182a904552f837be19228 6fc012cc6dbd28e5dc31a93615cf3993 6fc1079093286f714af1b4d1ebaabfc2 6fdca28c45a3f95349df2752611d26d5 705319ff872ef24eaa4e64d20a4af137 70860c28a0a412d01818bd70e7431fdc 70e374bbb79383e84717e04b7acecf50 7261abb86d2274885b789754d31a2a22 726cc38e6772e2139551bcaa07fb670f 72ac23f4825e82e04f1f0432387b0fd3 72ff09a546a91b3b669bd88f9f6a585e 73961fd654e68454b5c1ff652b011c11 7461c7929082c83b47cd349a84c84efa 76bba149bcbbc086f2682512f5fb9f13 777daff524b6a5e86395b26dca6a28d3 77974676cfb90f1a4514cc733054f1f0 77d8f895b57b0483f39da673ebd0fb01 788cba432de592b4608c34ee088dd9f9 7897f9fcc8e4908d63d1dacb7f1d40a9 79d1badf49120029a18c4f00b2277f61 7a3dc3ae34b3f0ff857331135ae235d1 7aa82c1def3dd7348a0da189c1248f67 7af58f57b7e8474498a1692447a00418 7b1d4fa2a6e538707571836b2617305f 7b8de40bf3d11ec6c6b0e3cd18b200fd 7c2afb3c910ed963e82f90b87907f1f5 7c2de60f081e4fd16b8d8d4da1739fe2 7c3c53575f8d2d63f0fa7ebe5486874b 7d4f0fc87d0ba3d179f3fe9e356224ed 7d56c553a7578aca3d7e969277089bfc 7d5e21802caf322a14512ebf9a00a6c3 7df852ab07035a84808f69d51d8fc679 7e0d11c94de9c2849b899ad6ee67f7d2 7e35c7db3064bd23bb7fa06fad347c99 7ea41970484542526ff63dcc2df4e474 7f0f7fd7b7267612e55ddc680944cdec 7fc6392d826e1c5a25125fa94f442767 7fcddb6b0951e272f92163aae3b0e628 80c826b9691c8a83b1aea1963a50db09 8173f3473afd8ac5a7544e3f10ab2616 8246d06f469b3ec121eaa671e37ea829 826de68f47cdcf01bf3cb9706086297e 85a3053adc77929b2b56cea8be6d79bd 86b6b0daf3d8ef68271b15567c37300c 86df4f132335bf8aac82c9f567989667 870fd6a8dfa9320b90782a02a1ec0662 878d393a07a90e4c210d14978c354527 87b7255c070103bb6f355d6b27d5dd63 886cbda67dc0a13c20b2a5d2ce2f0907 88b7ce200f26ee604551751f86d1c19d 88e4763d7883537db4f414e0db4405bd 890d4c48083942d5e4500db223b56b6c 89be2129d089b002941ddda6b3477adb 89c9acda967e6299c3d37b9a51dcc22a 89e98edc5cf2b4448410fac9157e03b1 8a4c41b66c44b2e26ce24a4d32f251f8 8a64ae207e9055db61732314f333cae6 8a82115dc0d6f914f2351b811dc7c4bc 8bb37734a5b41c86059eeb2ffff72d75 8e42916244ee61c528a987932b0a9975 8e9e7bf9d660c2985357273e7f1cd05e 8ef2f79c4afdc326498f432567370497 8f1cd78e4e8a17c137fb8d5e1b7f876c 8f74305b571eba5bef5fd64b9d74a126 9013c7daf11d8362d91e02c62154e155 903c82edd56edd2b3148006f89ad22b2 90db9e4cffbd9e2138d6ef6c11db0a7f 91d6da9b11c3449f7314091d576505b8 92473bb7017d1b2ad7e3caabcf70734f 92fb298b1ded312695ced8f6f9b0a9ed 933b36a55de984271146149310dc4aca 935b6088bbdcb7e6870329ebe454ad48 93c6d7f20463fd8d0fe2d873b55c8a92 93cda344d4c7fa16697b718bb643fbbb 94cf59869219efe0884218f06fb71e20 95026650b7c0f51d2b0aac1cef6d371d 958ee7465b829e3beb9abba513ce37d1 965822ef26487cb2f76eecb2cfa0993d 96bbfbca7dbb55087e7d8138db665054 96f8b5080c231320950737a79d137155 970720de2dd9bae34737d1df86dc67e7 97102f3f40adb6470401cc05cdb12071 97605dca4e91a75276756028b7350d32 97d0ef48cb3d4a8f8298dec2a0ee5f43 97d73b2a4e5cdfe74655cce36cb01b36 982e48af098b6634697d0aaf0c618c33 9862fa1442a6720914cd38078650e57b 989ce60e891ecf83c9253c15a4acca52 9935c1749eedc410415efc283c48fb43 9aa206ed1f8b44f43713649c5ac33133 9acffd1e28338fa2c85f6cf5ff43f188 9ae1c86782707dca9b44d4725943002a 9b12644587ac9d88ac710c0de6597904 9c13aaf6b520adcb12a4254027e93e54 9d03d64fb54500c943caf6b191815b6a 9d2fe6f8dd4b278bb8db7a2579bec817 9d54a85c361028cb85b1bd79653a9a01 9d97e9ef57b9681699a87712edfafc7d a0ec35b77c9e7013d15af5491c6d33e6 a199485122ca26b4cda855f1374edfa2 a1ac5aeff88798dcb19e20c72aa0f58f a2cee407000b5ccd6f9ca6b9ba2222d0 a2e20d1ac3821a628c13fa84a7aff810 a303ab6a16ef5ade1bf4d4cb3b7d9354 a37bea7d524401241ba46e1e53f5eb52 a37fea285271e4c08f8b0d91a0878685 a3c9873b2108a8f97f2fa3ab884c80ff a43a6fb86d50b6979fce14b2b26863a9 a4e6d292db592cb984e418d112d72d7b a7adc61eb6e7cee3093773e865fc0e8d a7b64c1f92e34b092287dd274e277719 a80db14b79b6636164bdfa826bd6e2f1 a86920b7aef2b7258a10289a82a6d8eb a8f99e5856123e94fe5b9d80a0f67d1c a9549c947acc2e7a19fb05c8462e31ed a97811f88e1422055a809b357ef40a38 a9b389e284c52892d7dcf423863d5528 aa506162904f80c59784807a482fd778 aae5bd2becdf49c767854aff5ddedaba aba7859f912ce33d8514f22a217d47de ac1daab07233f4cf4c6f9feb9bfe9abe ac8a6b8724c3dfeb45387730bf9f17bb acf29423fd9fd22a68914db4dab10823 ae26baae1e6e1a71eae636ae8e370f78 aee246af0a38c05c77aecfce2f28b093 af3c089c79532807d4d4769baf030d00 afcffb5ffb65856c8777382169d64a68 afd645173e8cf773e0cf6a0bfbc68f32 b018af849de4dbbb29fbf41c0ffb4a6d b0d413ef6779c9e9cbd81010d41f1559 b1fe979551239292a7a41613cb3ab039 b21cb8c522f163f74fd1d898c0adee16 b24abed0fb460f40706d0beb5459c383 b28b2c946ba6f00d64e3c90a5cc9f3ac b2f799db48ef5b1ad5d3271b722861ea b30f1353723bdf121dc0a5f5bf0e5cc9 b46d0d0514ff58bb7e28896bcebc3383 b4b88419cb48c890021b7d9df2c0e53c b4f98952a932aed49cbaf0881e1ef902 b559e25ed997c106bade51dd7b428816 b7094721000e3a4b5fa0ec88a04e9564 b71d16820d6f0f9896c62e410174a421 b749ec9aa279f2126fd7751c17e209eb b854c285efe086114f59588f0a46fe02 b86454108c1281555fa1e5bd6fa6043b b8853bf1ed40010db44bff5d94a85f0f b8cbd32a816cf25ac353b1adb41302b9 b8cc1eaea66b63a2d7cdea135feb0c21 b978ac683781aefee376680dedd4f989 b981fcb3f2d109fccbe720da525c1055 ba431c583b300ddbd12af9bbbd21e4c3 badc02e2a6180873b65918e1da7a7e26 bb457cda21a8571081e4654e7b924b7d bb80ba36d173aaefce8709938f7ca6ba bb814f13627db82ce96efa15e2b5fe1b bc32025d8ab6d07cb41f9af78b6d2bae bc9d29d7076a16309df34901c9ee7db6 bec9d16bffbb6e4df23d25ea0ee57beb bf4973ba7577b8aa084d451c8d8c23b6 c0cf0e9daf92a32cabbae71e5e77f3c6 c0cf2976c103af2119a682d72871e60f c1c251b92aef22897a7f7eefebc0f221 c1ca65aecb196183eca08d6d4d279c84 c1dde38c8f50d2291e7684cfbc03e5bb c32212a383c6f1b5051cacf647749cf7 c5e8b2378847fab439d8daf343137a8d c61fff56cde6fc624814222ff43943c7 c62da5687d7f86f34528726a898a62ab c729e11f05f90fbc95600e71267b7ce3 c742cf9b93094054a6b8e8d1dae83157 c86bc463202d19417d88703055ed1a2e ca12cbbdb64df98ae52e8fde4c9c4cfe ca277cec29355f94799a619ccef3b909 cade1829c93c4fd8fe0787b356701d1d cda238feccfef68fddc82292fc131981 ce0312daac96b81ff16f4baececc1e1f ce1986168c462832c1755a3db78d5263 ce684505dc532cf22542b3830c5ef857 cece1ad96808b12d6f4c30676be34cfd cf3a7d87483da1825de3a6fcb7685b98 cf723a4daca19f3b68d9333bd78d0b30 cfc3a88dafdf411eea212fc0d116b9df d073b0c8c305e73f3439c41c9c226f8f d0cd78cb603432c0edef6d0b778e183f d2cab1fd98d3fddadf3e41515d4ba74b d37a9bd9db4b115a3ab7891b2fad0459 d43ab6cfa026b699ec1431d408081e3e d4f572b921c13fc6a58b483c31e0cf54 d5911ae863d6527ad926083c11c26029 d595c0c97e24fc21bb0ff45c1d8ad0d6 d5a9557a4bb2060f3ca4120d04c00bea d5c89323addfc0378d58654075d95279 d6069322c575e8e4fe8a68815e891447 d61793fbe67e02e39eb5b3ebebbd815e d6a62e71acc63a91dcc3a38dd591ac77 d7b9a41bbcdd00585a0f31b1e54d1430 d7ed4d9ca44dd583f2a62132ecc23f36 d94ddfe0414d7aa6dc6f9afb6eb46284 d9b24b1c6c183371b195f40cd2dc3ff1 da560346823445ca9e6775000a18eb2e dc1efd395e3b3cc20dfb55158109b33f dd5cf16dd3bcb9c39acb9d3da681890b dda5b404377a1bcbc20707e3d659584c de269d5986c5af398e2c5431e4b059d7 de922aab6e78e6117420f6cd418c7f86 df82ac239f62ec49d66b3ca8e8d72e7f dfe3c2d121417ec2924a328e7d87818e e03fad2f9ec2d0202f17d2d132cfa955 e0529f5a048bf0d88b50e5a32d90cc4e e0a7a726bfcf78386223bd920f7f5d0b e146872d3128f2ea194b4ee6b28550d2 e207e4836f8654491ac64ca304fbfd31 e2dbd57b238c8a1a7fd009d2055eacae e35e71fa5e18bd80fa1c0c0dc4540ef8 e3ee67f9477390c9909af26b634b2240 e3f440340b057da063b87bbff9a6b86b e406ab1dc4eb957b6b32609776165892 e4c79e62ca904c3d8373bbaee7197fc9 e4ea2974159ae01bfdcf2fcd9da5a628 e51cc8d371cb8c0dd4b5ed748c9d174f e5dfe45d8188aaa343688d7f4982bef1 e6f4cc61153901962c55a2f72ab28293 e7555eb1621015c84976ee81ed59a50e e76b6b48e54fc9cbea3fc5fb2217d277 e7f435624ec74e98dd90d5f005ad4c2f e81b6bc5550f23c6ec7413d8e9b11ba1 e83ffa73cef30425ec8ed882dbf886e5 e850d71afe868117eb91db3101571c79 e8bd4020505dcdcadfb6c403c2cc8062 e9451aaf50c91708034514adee28bb0f e99876c6e2eef77abe4c868f574c8a1e e9b7f3e905dd9dbf45144147a5292e74 ea2a8a9d2a13004301f3c4c57ddccf32 ea461cc33cf8f7caf1f90a84a86849e9 ea849cdbe295d1e68970e9268de53357 ebb942125fa3f72222eaa4ef77a7fecd edb9a5a58893cc65580ac5b51ca3dd72 edd3979bc5ee08446849946a2f8055b6 ee1d3525b7be19a8380b1b41373e0c33 ee302df809e478a5c1f687a70b0a095d ee5d2dddae34804dc84e96e54a5e39cf ef6240aa95fd5b092b0f52dcb6cefa3c f0c2b6b922d5aa106113ec5d2b562bfc f368b10bf636f3d48047536492602e6b f3c31bf9f7687f1de075f3a78ae27dd2 f4a57192badeddbf72a7dddac493d40a f71da9cdf339bdb5211258f58ff5fdd4 f725f6f603c51f7135a4fd963663150f f77caa2a3713d5121c90bc8e69040828 f7a58edc7eafa7411ba17536080640cd f8d66203b974430109408d9acbf49d14 f91f219bbc4afba5d9efa5409a48003c f9a4c515b7ea88a263c41973c4a337dc f9c2a949dbde6e81ab7d3ee5194bd75d fa06b8929f48b4e8b20845afbe3e5301 fa4bd171bc46169d269a3e14a85eb682 fb2b8409ecc0ecfea30ed15f63ebe63a fcfeb64cfa87aef0005884f68985c3d5 fe516dbb5d7e2b25367c8b0c45e603cf fe827836f6ad865478bcaa8e22c0bf9c feeccf50350dafa2ec91b286144511cf ff15beccd277ddf1cca402c8510c236a ff1a7c8f63e645dd339aa23e5a5d9fe0 ff1fc3efe6d81afd7961f1a02d8a7cb1 ff93b6036e6671684b7d4a034088b550 fff0db4d971ec39ee7d8a726ea794f6e
archives-index-size = 135988 173068 140108 127748 177188 181308 193668 354348 469708 107148 119508 111268 90668 103028 127748 111268 115388 168948 247228 201908 238988 280188 255468 280188 230748 214268 193668 201908 193668 271948 276068 251348 193668 263708 206028 193668 337868 251348 193668 243108 267828 255468 201908 280188 280188 247228 276068 276068 201908 173068 148348 243108 115388 28868 12388 8268 8268 12388 16508 16508 20628 12388 234868 57708 94788 148348 74188 185428 189548 131868 201908 197788 210148 189548 177188 78308 78308 82428 74188 107148 90668 90668 123628 131868 12388 206028 144228 156588 197788 181308 98908 379068 156588 346108 119508 123628 173068 103028 131868 206028 94788 57708 98908 32988 90668 214268 131868 189548 193668 111268 119508 140108 214268 181308 152468 160708 115388 131868 634508 140108 119508 94788 144228 164828 131868 107148 103028 94788 86548 107148 131868 107148 276068 49468 32988 8268 8268 8268 8268 8268 74188 45348 98908 86548 37108 82428 16508 53588 177188 206028 164828 164828 135988 94788 135988 41228 280188 140108 8268 8268 8268 16508 263708 247228 201908 206028 210148 193668 156588 82428 123628 185428 131868 185428 148348 8268 61828 78308 354348 177188 12388 8268 8268 8268 12388 16508 16508 16508 16508 12388 8268 12388 12388 12388 12388 28868 173068 173068 370828 156588 12388 28868 152468 333748 210148 156588 214268 189548 70068 65948 173068 111268 111268 119508 140108 65948 119508 98908 111268 86548 65948 148348 94788 90668 119508 53588 57708 354348 111268 78308 123628 78308 94788 107148 131868 98908 168948 156588 148348 148348 94788 53588 103028 82428 65948 49468 255468 111268 98908 90668 103028 111268 98908 37108 168948 144228 144228 148348 115388 189548 140108 168948 164828 140108 144228 98908 49468 98908 123628 78308 74188 107148 135988 115388 164828 119508 119508 74188 74188 78308 82428 16508 86548 65948 156588 152468 103028 41228 16508 90668 103028 103028 90668 12388 131868 82428 70068 82428 74188 78308 103028 74188 20628 90668 234868 111268 197788 807548 597428 98908 20628 78308 131868 90668 28868 8268 8268 8268 8268 8268 28868 115388 119508 185428 115388 70068 103028 152468 57708 168948 177188 135988 140108 94788 41228 78308 41228 86548 86548 12388 8268 8268 8268 8268 8268 8268 8268 12388 8268 12388 57708 61828 78308 78308 57708 74188 82428 20628 8268 24748 57708 103028 70068 127748 90668 98908 94788 123628 8268 8268 16508 8268 12388 123628 238988 189548 37108 20628 12388 12388 12388 20628 37108 181308 325508 164828 313148 304908 90668 70068 107148 230748 189548 123628 259588 144228 41228 49468 111268 4148 37108 41228 16508 4148 4148 45348 45348 4148 4148 4148 32988 45348 32988 49468 41228 140108 82428 4148 4148 53588 82428 144228 189548 131868 45348 8268 12388 8268 8268 4148 4148 4148 41228 103028 16508 214268 238988 222508 41228 86548 16508 8268 4148 4148 37108 37108 57708 12388 32988 4148 4148 4148 32988 4148 4148 4148 4148 4148 4148 4148 4148 4148 4148 4148 4148 4148 4148 4148 4148 4148
patch-archives-index-size = 655108 527388 490308 403788 358468 49468 4148 140108 4148 4148 119508 4148 4148 4148 156588 337868 4148 276068 309028 222508 4148 4148 346108 164828 4148 296668 12388 4148 4148 61828 4148 4148 4148 4148 4148 4148
file-index = ee481541827189fe370f43adf37ca9b4
file-index-size = 90668
patch-file-index = ac62b83090c1a32e435dad43815dae89
patch-file-index-size = 20628`

const tableSample = `Name!STRING:0|Path!STRING:0|Hosts!STRING:0|Servers!STRING:0|ConfigPath!STRING:0
## seqn = 384514
eu|tpr/wow|level3.blizzard.com eu.cdn.blizzard.com|http://eu.cdn.blizzard.com/?maxhosts=4 http://level3.blizzard.com/?maxhosts=4 https://blzddist1-a.akamaihd.net/?fallback=1&maxhosts=4 https://eu.cdn.blizzard.com/?fallback=1&maxhosts=4 https://level3.ssl.blizzard.com/?fallback=1&maxhosts=4|tpr/configs/data
kr|tpr/wow|level3.blizzard.com kr.cdn.blizzard.com blizzard.gcdn.cloudn.co.kr|http://blizzard.gcdn.cloudn.co.kr/?maxhosts=4 http://kr.cdn.blizzard.com/?maxhosts=4 http://level3.blizzard.com/?maxhosts=4 https://blizzard.gcdn.cloudn.co.kr/?fallback=1&maxhosts=4 https://blzddistkr1-a.akamaihd.net/?fallback=1&maxhosts=4 https://kr.cdn.blizzard.com/?fallback=1&maxhosts=4 https://level3.ssl.blizzard.com/?fallback=1&maxhosts=4|tpr/configs/data
cn|tpr/wow|client02.pdl.wow.battlenet.com.cn client05.pdl.wow.battlenet.com.cn|http://client02.pdl.wow.battlenet.com.cn/?maxhosts=4 http://client05.pdl.wow.battlenet.com.cn/?maxhosts=4 https://blzddist1-a.akamaihd.net/?fallback=1&maxhosts=4 https://client02.pdl.wow.battlenet.com.cn/?fallback=1&maxhosts=4 https://client05.pdl.wow.battlenet.com.cn/?fallback=1&maxhosts=4|tpr/configs/data
us|tpr/wow|level3.blizzard.com us.cdn.blizzard.com|http://level3.blizzard.com/?maxhosts=4 http://us.cdn.blizzard.com/?maxhosts=4 https://blzddist1-a.akamaihd.net/?fallback=1&maxhosts=4 https://level3.ssl.blizzard.com/?fallback=1&maxhosts=4 https://us.cdn.blizzard.com/?fallback=1&maxhosts=4|tpr/configs/data
tw|tpr/wow|level3.blizzard.com us.cdn.blizzard.com|http://level3.blizzard.com/?maxhosts=4 http://us.cdn.blizzard.com/?maxhosts=4 https://blzddist1-a.akamaihd.net/?fallback=1&maxhosts=4 https://level3.ssl.blizzard.com/?fallback=1&maxhosts=4 https://us.cdn.blizzard.com/?fallback=1&maxhosts=4|tpr/configs/data`

type file struct {
	Archives               [][16]byte `ccfg:"archives"`
	ArchivesIndexSize      []uint64   `ccfg:"archives-index-size"`
	PatchArchivesIndexSize []uint64   `ccfg:"patch-archives-index-size"`
	FileIndex              [16]byte   `ccfg:"file-index"`
	FileIndexSize          uint64     `ccfg:"file-index-size"`
	PatchFileIndex         [16]byte   `ccfg:"patch-file-index"`
	PatchFileIndexSize     uint64     `ccfg:"patch-file-index-size"`
}

type cdn struct {
	Region     string   `ccfg:"Name"`
	Path       string   `ccfg:"Path"`
	Hosts      []string `ccfg:"Hosts"`
	Servers    []string `ccfg:"Servers"`
	ConfigPath string   `ccfg:"ConfigPath"`
}

func TestCCFG(t *testing.T) {
	var f file
	decoder := NewDecoder(strings.NewReader(sample))
	if err := decoder.Decode(&f); err != nil {
		t.Fatal(err)
	}
	log.Dump("f", f)

	var table []cdn
	decoder = NewDecoder(strings.NewReader(tableSample))
	if err := decoder.Decode(&table); err != nil {
		t.Fatal(err)
	}
	log.Dump("table", table)
}
